<VirtualHost *:80>

    ServerAdmin webmaster@localhost
    DocumentRoot /var/www/html

    ####################################################################
    # DIRECTORIO PRINCIPAL — WEB COMPLETAMENTE ABIERTA
    ####################################################################
    <Directory /var/www/html/>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    ####################################################################
    # UPLOADS — EJECUCIÓN DE SCRIPTS (RCE REALISTA)
    ####################################################################
    <Directory /var/www/html/uploads/>
        Options +ExecCGI +Indexes
        AllowOverride All
        AddHandler cgi-script .php .sh
        Require all granted
    </Directory>

    ####################################################################
    # LOGS — EXPUESTOS AL NAVEGADOR (NO HAGAS ESTO EN PRODUCCIÓN)
    ####################################################################
    #ErrorLog ${APACHE_LOG_DIR}/error.log
    #CustomLog ${APACHE_LOG_DIR}/access.log combined

    ErrorLog /var/www/html/logs/error.log
    CustomLog /var/www/html/logs/access.log combined

    #Include conf-available/serve-cgi-bin.conf
    ServerName 127.0.0.1
</VirtualHost>
